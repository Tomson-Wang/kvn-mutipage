<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <title>中信书院</title>
  <link rel="stylesheet" href="./assets/css/reset.css">
  <link rel="stylesheet" href="./assets/css/base.css">
  <script>
    var apiHost = '<%=htmlWebpackPlugin.options.apiHost %>';
    var shareData = {}
    shareData.timeLineTitle = '以知识为信仰——中信书院';
    shareData.timeLineLink = 'https://v.yunpub.cn/mall?ref_u={{ uid }}';
    shareData.timeLineImgUrl = 'https://v.yunpub.cn/assets/images/logo-l.jpg';
    shareData.appMessageTitle = '以知识为信仰——中信书院';
    shareData.appMessageDesc = '这里没有停滞不前的人生';
    shareData.appMessageLink = 'https://v.yunpub.cn/mall?ref_u={{ uid }}';
    shareData.appMessageImgUrl = 'https://v.yunpub.cn/assets/images/logo-l.jpg';
    var authData = {}
    authData.sectionId = '{{sectionId}}';
    authData.sectionType = parseInt('{{sectionType}}')
    authData.uid = '{{ uid }}';
  </script>
</head>
<body>
<div id="app"></div>
<script src="https://res.wx.qq.com/open/js/jweixin-1.2.0.js"></script>
<script>
  window.onload = function (){
    (function (){
      wx.config({
        //                        debug:true , // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。
        debug:false , // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。
        appId:'{{apiData.appid}}' , // 必填，公众号的唯一标识
        timestamp:'{{apiData.timestamp}}' ,// 必填，生成签名的时间戳
        nonceStr:'{{apiData.noncestr}}' ,// 必填，生成签名的随机串
        signature:'{{apiData.sign}}' ,// 必填，签名，见附录1
        jsApiList:[
          'checkJsApi' , 'onMenuShareTimeline' , 'showMenuItems'
        ] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2
      });
    })();

    wx.ready(function (){
      wx.showMenuItems({
        menuList:[
          'menuItem:profile' ,
          'menuItem:addContact'
        ]
      });
      wx.onMenuShareTimeline({
        title:shareData.appMessageTitle ,
        link:shareData.appMessageLink ,
        imgUrl:shareData.appMessageImgUrl ,
        success:function (){

        } ,
        cancel:function (){

        }
      });
      wx.onMenuShareAppMessage({
        title:shareData.appMessageTitle ,
        desc:shareData.appMessageDesc ,
        link:shareData.appMessageLink ,
        imgUrl:shareData.appMessageImgUrl ,
        success:function (){
          // 用户确认分享后执行的回调函数
        } ,
        cancel:function (){
          // 用户取消分享后执行的回调函数
        }
      });
    });
  }
</script>
</body>
</html>
